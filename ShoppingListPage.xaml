<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Montealegre_Sofia_RecipeDiscover.ShoppingListPage">
	<Grid Padding="16" RowDefinitions="Auto,*,Auto" RowSpacing="16">

		<!-- Page Title -->
		<Label Grid.Row="0"
               Text="ðŸ§¾ Shopping List"
               FontSize="24"
               FontAttributes="Bold"
               HorizontalOptions="Center"/>

		<!-- MAIN SCROLLER -->
		<CollectionView Grid.Row="1"
                        ItemsSource="{Binding ShoppingItems}"
                        SelectionMode="None">
			<!-- HEADER -->
			<CollectionView.Header>
				<Grid ColumnDefinitions="50,*,80,60"
                      Padding="10">
					<Label Grid.Column="0"
                           Text="âœ“"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"/>
					<Label Grid.Column="1"
                           Text="Items"
                           FontAttributes="Bold"/>
					<Label Grid.Column="2"
                           Text="Quantity"
                           FontAttributes="Bold"
                           HorizontalOptions="End"/>
					<Label Grid.Column="3"
                           Text="Unit"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"/>
				</Grid>
			</CollectionView.Header>

			<!-- ITEMS -->
			<CollectionView.ItemTemplate>
				<DataTemplate>
					<Grid ColumnDefinitions="50,*,80,60"
                          Padding="10">
						<CheckBox Grid.Column="0"
                                  IsChecked="{Binding IsChecked}"
                                  HorizontalOptions="Center"/>
						<Label Grid.Column="1"
                               Text="{Binding Name}"/>
						<Label Grid.Column="2"
                               Text="{Binding TotalQuantity}"
                               HorizontalOptions="End"/>
						<Label Grid.Column="3"
                               Text="{Binding Unit}"
                               HorizontalOptions="Center"/>
					</Grid>
				</DataTemplate>
			</CollectionView.ItemTemplate>
		</CollectionView>

		<!-- BUTTON (Outside CollectionView) -->
		<Button Grid.Row="2"
                Text="Save Shopping List"
                Command="{Binding SaveShoppingListCommand}"
                FontSize="18"
                FontAttributes="Bold"
                TextColor="White"
                HeightRequest="50"
                CornerRadius="10">
			<Button.Background>
				<LinearGradientBrush>
					<GradientStop Color="DarkSalmon" Offset="0"/>
					<GradientStop Color="Aquamarine" Offset="1"/>
				</LinearGradientBrush>
			</Button.Background>
		</Button>

	</Grid>
</ContentPage>